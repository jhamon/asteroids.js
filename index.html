<!DOCTYPE html>
<html>
<body>
	<head>
		<link rel="stylesheet" type="text/css" href="application.css" media="screen" />
    <script src="http://code.jquery.com/jquery-1.9.1.js"></script>
		<script type="text/javascript" src="./inherits.js"></script>
		<script type="text/javascript" src="./moving_object.js"></script>
		<script type="text/javascript" src="./asteroids.js"></script>
		<script type="text/javascript" src="./game.js"></script>
		<script type="text/javascript" src="./ship.js"></script>
		<script type="text/javascript" src="./bullets.js"></script>

	</head>
	<header>
		<h1 id="branding">Asteroids!</h1>
	</header>
	<div id ="asteroids_canvas">
	</div>

  <script>
    var canvas = document.createElement("canvas");
    canvas.setAttribute("width", window.innerWidth);
    canvas.setAttribute("height", window.innerHeight*0.8);

    var div = document.getElementById("asteroids_canvas");
    div.appendChild(canvas);

    game = new Asteroids.Game()

    $(document).keydown(function (event) {
      if (event.keyCode === 38) {
        game.ship.boostOn();
      } else if (event.keyCode === 40) {
        game.ship.brake();
      } else if (event.keyCode === 37) {
        game.ship.turnRight();
      } else if (event.keyCode === 39) {
        game.ship.turnLeft();
      } else if (event.keyCode === 32) {
        game.fireBullet();
      }
      console.log("A key was pressed: " + event.keyCode);
    });

    $(document).keyup(function (event) {
      if (event.keyCode === 38) {
        game.ship.boostOff();
      } else if (event.keyCode === 37) {
        game.ship.deactivateTurn();
      } else if (event.keyCode === 39) {
        game.ship.deactivateTurn();
      }
      console.log("A key was lifted" + event.keyCode)
    });
		game.start(canvas);
  </script>

</body>
</html>